this.wp=this.wp||{},this.wp.editWidgets=function(e){var t={};function n(r){if(t[r])return t[r].exports;var c=t[r]={i:r,l:!1,exports:{}};return e[r].call(c.exports,c,c.exports,n),c.l=!0,c.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=213)}({0:function(e,t){!function(){e.exports=this.wp.element}()},1:function(e,t){!function(){e.exports=this.wp.i18n}()},11:function(e,t){!function(){e.exports=this.wp.blocks}()},15:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},2:function(e,t){!function(){e.exports=this.lodash}()},21:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}n.d(t,"a",function(){return r})},213:function(e,t,n){"use strict";n.r(t);var r={};n.d(r,"setupWidgetAreas",function(){return h}),n.d(r,"updateBlocksInWidgetArea",function(){return w}),n.d(r,"saveWidgetAreas",function(){return m});var c={};n.d(c,"getWidgetAreas",function(){return k}),n.d(c,"getWidgetArea",function(){return E}),n.d(c,"getBlocksFromWidgetArea",function(){return y});var i=n(0),a=n(90),o=n(4),s=n(34),u=n(15),l=n(8),d=n(2);var f=Object(o.combineReducers)({widgetAreas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SETUP_WIDGET_AREAS":return Object(d.mapValues)(Object(d.keyBy)(t.widgetAreas,"id"),function(e){return Object(d.pick)(e,["name","id","description"])})}return e},widgetAreaBlocks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SETUP_WIDGET_AREAS":return Object(d.mapValues)(Object(d.keyBy)(t.widgetAreas,"id"),function(e){return e.blocks});case"UPDATE_BLOCKS_IN_WIDGET_AREA":return(e[t.widgetAreaId]||[])===t.blocks?e:Object(l.a)({},e,Object(u.a)({},t.widgetAreaId,t.blocks))}return e}}),b=n(22),p=n.n(b),g=n(21),O=n(11),v=p.a.mark(h),j=p.a.mark(m);function h(){var e;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.select)("core","getEntityRecords","root","widgetArea");case 2:return e=t.sent,t.next=5,{type:"SETUP_WIDGET_AREAS",widgetAreas:Object(d.map)(e,function(e){var t=e.content,n=Object(g.a)(e,["content"]);return Object(l.a)({},n,{blocks:Object(O.parse)(Object(d.get)(t,["raw"],""))})})};case 5:case"end":return t.stop()}},v)}function w(e){return{type:"UPDATE_BLOCKS_IN_WIDGET_AREA",widgetAreaId:e,blocks:arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]}}function m(){var e,t,n,r,c,i,a,o,u;return p.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(s.select)("core/edit-widgets","getWidgetAreas");case 2:e=l.sent,t=!0,n=!1,r=void 0,l.prev=6,c=e[Symbol.iterator]();case 8:if(t=(i=c.next()).done){l.next=19;break}return a=i.value,o=a.id,l.next=13,Object(s.select)("core/edit-widgets","getBlocksFromWidgetArea",o);case 13:return u=l.sent,l.next=16,Object(s.dispatch)("core","saveWidgetArea",{id:o,content:Object(O.serialize)(u)});case 16:t=!0,l.next=8;break;case 19:l.next=25;break;case 21:l.prev=21,l.t0=l.catch(6),n=!0,r=l.t0;case 25:l.prev=25,l.prev=26,t||null==c.return||c.return();case 28:if(l.prev=28,!n){l.next=31;break}throw r;case 31:return l.finish(28);case 32:return l.finish(25);case 33:case"end":return l.stop()}},j,null,[[6,21,25,33],[26,,28,32]])}var A=n(30),k=Object(A.a)(function(e){return Object(d.toArray)(e.widgetAreas)},function(e){return[e.widgetAreas]});function E(e,t){return e.widgetAreas[t]}function y(e,t){return e.widgetAreaBlocks[t]}var x=Object(o.registerStore)("core/edit-widgets",{reducer:f,actions:r,selectors:c,controls:s.controls});x.dispatch({type:"INIT"});var _=n(6),W=n(1),B=n(3);var S=Object(_.compose)([Object(o.withDispatch)(function(e){return{saveWidgetAreas:e("core/edit-widgets").saveWidgetAreas}})])(function(e){var t=e.saveWidgetAreas;return Object(i.createElement)("div",{className:"edit-widgets-header",role:"region","aria-label":Object(W.__)("Widgets screen top bar"),tabIndex:"-1"},Object(i.createElement)("h1",{className:"edit-widgets-header__title"},Object(W.__)("Block Areas")," ",Object(W.__)("(experimental)")),Object(i.createElement)("div",{className:"edit-widgets-header__actions"},Object(i.createElement)(B.Button,{isPrimary:!0,isLarge:!0,onClick:t},Object(W.__)("Update"))))});var I=function(){return Object(i.createElement)("div",{className:"edit-widgets-sidebar",role:"region","aria-label":Object(W.__)("Widgets advanced settings"),tabIndex:"-1"},Object(i.createElement)(B.Panel,{header:Object(W.__)("Block Areas")}))},P=n(7);var D=Object(_.compose)([Object(o.withSelect)(function(e,t){var n=t.id,r=e("core/edit-widgets"),c=r.getBlocksFromWidgetArea,i=r.getWidgetArea;return{blocks:c(n),widgetAreaName:(i(n)||{}).name}}),Object(o.withDispatch)(function(e,t){var n=t.id;return{updateBlocks:function(t){(0,e("core/edit-widgets").updateBlocksInWidgetArea)(n,t)}}})])(function(e){var t=e.blockEditorSettings,n=e.blocks,r=e.initialOpen,c=e.updateBlocks,a=e.widgetAreaName;return Object(i.createElement)(B.Panel,{className:"edit-widgets-widget-area"},Object(i.createElement)(B.PanelBody,{title:a,initialOpen:r},Object(i.createElement)(P.BlockEditorProvider,{value:n,onInput:c,onChange:c,settings:t},Object(i.createElement)(P.BlockList,null))))});var N=Object(_.compose)([Object(o.withSelect)(function(e){return{areas:(0,e("core/edit-widgets").getWidgetAreas)()}})])(function(e){var t=e.areas,n=e.blockEditorSettings;return t.map(function(e,t){var r=e.id;return Object(i.createElement)(D,{blockEditorSettings:n,key:r,id:r,initialOpen:0===t})})});var T=Object(B.navigateRegions)(function(e){var t=e.blockEditorSettings;return Object(i.createElement)(i.Fragment,null,Object(i.createElement)(S,null),Object(i.createElement)(I,null),Object(i.createElement)("div",{className:"edit-widgets-layout__content",role:"region","aria-label":Object(W.__)("Widgets screen content"),tabIndex:"-1"},Object(i.createElement)(N,{blockEditorSettings:t})))});var R=Object(_.compose)([Object(o.withDispatch)(function(e){return{setupWidgetAreas:e("core/edit-widgets").setupWidgetAreas}})])(function(e){var t=e.setupWidgetAreas,n=e.settings;return Object(i.useEffect)(function(){t()},[]),Object(i.createElement)(T,{blockEditorSettings:n})});function U(e,t){Object(a.registerCoreBlocks)(),Object(i.render)(Object(i.createElement)(R,{settings:t}),document.getElementById(e))}n.d(t,"initialize",function(){return U})},22:function(e,t){!function(){e.exports=this.regeneratorRuntime}()},3:function(e,t){!function(){e.exports=this.wp.components}()},30:function(e,t,n){"use strict";var r,c;function i(e){return[e]}function a(e){return!!e&&"object"==typeof e}function o(){var e={clear:function(){e.head=null}};return e}function s(e,t,n){var r;if(e.length!==t.length)return!1;for(r=n;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}r={},c="undefined"!=typeof WeakMap,t.a=function(e,t){var n,u;function l(){n=c?new WeakMap:o()}function d(){var n,r,c,i,a,o=arguments.length;for(i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];for(a=t.apply(null,i),(n=u(a)).isUniqueByDependants||(n.lastDependants&&!s(a,n.lastDependants,0)&&n.clear(),n.lastDependants=a),r=n.head;r;){if(s(r.args,i,1))return r!==n.head&&(r.prev.next=r.next,r.next&&(r.next.prev=r.prev),r.next=n.head,r.prev=null,n.head.prev=r,n.head=r),r.val;r=r.next}return r={val:e.apply(null,i)},i[0]=null,r.args=i,n.head&&(n.head.prev=r,r.next=n.head),n.head=r,r.val}return t||(t=i),u=c?function(e){var t,c,i,s,u=n,l=!0;for(t=0;t<e.length;t++){if(!a(c=e[t])){l=!1;break}u.has(c)?u=u.get(c):(i=new WeakMap,u.set(c,i),u=i)}return u.has(r)||((s=o()).isUniqueByDependants=l,u.set(r,s)),u.get(r)}:function(){return n},d.getDependants=t,d.clear=l,l(),d}},34:function(e,t){!function(){e.exports=this.wp.dataControls}()},4:function(e,t){!function(){e.exports=this.wp.data}()},6:function(e,t){!function(){e.exports=this.wp.compose}()},7:function(e,t){!function(){e.exports=this.wp.blockEditor}()},8:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(15);function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},c=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(c=c.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),c.forEach(function(t){Object(r.a)(e,t,n[t])})}return e}},90:function(e,t){!function(){e.exports=this.wp.blockLibrary}()}});