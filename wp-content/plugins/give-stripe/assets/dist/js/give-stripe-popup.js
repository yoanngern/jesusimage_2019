!function(e){function t(i){if(r[i])return r[i].exports;var n=r[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,i){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=12)}({12:function(e,t,r){e.exports=r(13)},13:function(e,t){document.addEventListener("DOMContentLoaded",function(e){function t(e,t){var r=Math.abs(parseFloat(accounting.unformat(e,Give.form.fn.getInfo("decimal_separator",jQuery(t))))),i=t.getAttribute("data-currency_code");return give_stripe_vars.zero_based_currencies_list.indexOf(i)<0&&(r*=100),r}function r(e){var t=e.querySelector(".give-submit-button-wrap"),r=t.querySelector("#give-purchase-button");t.querySelector(".give-loading-animation").style.display="none",r.value=r.getAttribute("data-before-validation-label"),r.removeAttribute("disabled")}var i=[],n=document.querySelectorAll(".give-form-wrap");Array.prototype.forEach.call(n,function(e){var n=!1,a=e.querySelector(".give-form"),s=a.querySelector('input[name="give-form-title"]').value,o=a.querySelector('input[name="give-form-id-prefix"]').value,c=give_stripe_vars.checkout_image.length>0?give_stripe_vars.checkout_image:"",u=give_stripe_vars.checkout_address.length>0,l=give_stripe_vars.zipcode_option.length>0,p=give_stripe_vars.remember_option.length>0;i[o]=[],i[o]=StripeCheckout.configure({key:give_stripe_vars.publishable_key,image:c,locale:give_stripe_vars.preferred_locale,billingAddress:u,token:function(e,t){var i=document.createElement("div");if(i.setAttribute("class","stripe-checkout-process"),i.style.background="#FFFFFF",i.style.opacity="0.75",i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.bottom="0",i.style.right="0",i.style.zIndex="2147483646",i.style.display="none",i.innerHTML='<div class="give-stripe-checkout-processing-container" style="position: absolute;top: 50%;left: 50%;width: 300px; margin-left: -150px; text-align:center;"><div style="display:inline-block;"><span class="give-loading-animation" style="color: #333;height:26px;width:26px;font-size:26px; margin:2px 0 0;"></span><span style="color:#333; font-size: 18px; margin:0 0 0 10px;">'+give_stripe_vars.checkout_processing_text+"</span></div></div>",n=!0,""!==give_stripe_vars.stripe_account_id&&(e.stripeAccount=give_stripe_vars.stripe_account_id),a.insertAdjacentElement("beforeend",i),a.querySelector("#give-stripe-source-"+o).value=e.id,u){var s=document.createElement("input");s.setAttribute("type","hidden"),s.setAttribute("name","billing_country"),s.setAttribute("value",t.billing_address_country_code),a.insertAdjacentElement("afterbegin",s);var c=document.createElement("input");c.setAttribute("type","hidden"),c.setAttribute("name","card_address"),c.setAttribute("value",t.billing_address_line1),a.insertAdjacentElement("afterbegin",c);var l=document.createElement("input");l.setAttribute("type","hidden"),l.setAttribute("name","card_city"),l.setAttribute("value",t.billing_address_city),a.insertAdjacentElement("afterbegin",l);var p=document.createElement("input");p.setAttribute("type","hidden"),p.setAttribute("name","card_state"),p.setAttribute("value",t.billing_address_state),a.insertAdjacentElement("afterbegin",p);var d=document.createElement("input");d.setAttribute("type","hidden"),d.setAttribute("name","card_zip"),d.setAttribute("value",t.billing_address_zip),a.insertAdjacentElement("afterbegin",d)}var v=new XMLHttpRequest,m=new FormData(a),g=a.querySelector("#give-stripe-payment-errors-"+o),_=!1;m.append("action","give_process_donation"),m.append("give_ajax",!0),v.onreadystatechange=function(e){4===this.readyState&&200===this.status&&"success"!==this.responseText?(e.preventDefault(),_=!1,a.querySelector('input[name="billing_country"]').remove(),a.querySelector('input[name="card_address"]').remove(),a.querySelector('input[name="card_state"]').remove(),a.querySelector('input[name="card_city"]').remove(),a.querySelector('input[name="card_zip"]').remove(),document.querySelector(".stripe-checkout-process").style.display="none",g.innerHTML=this.response,r(a)):(g.innerHTML="",document.querySelector(".stripe-checkout-process").style.display="block",_=!0)},v.open("POST",give_global_vars.ajaxurl,!1),v.send(m),!0===_&&a.submit()},closed:function(){n||(r(a),i[o].close())}}),a.onsubmit=function(e){if("stripe"===a.querySelector(".give-gateway:checked").value){e.preventDefault();var r=a.querySelector(".give-final-total-amount").getAttribute("data-total"),n=a.querySelector('input[name="give_email"]').value;i[o].open({name:give_stripe_vars.sitename,description:s,amount:t(r,a),zipCode:l,allowRememberMe:p,email:n,currency:a.getAttribute("data-currency_code")})}}})})}});
//# sourceMappingURL=give-stripe-popup.js.map